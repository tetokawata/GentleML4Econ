{
  "hash": "b01a0e537f261f8bc1db40d0a55d1581",
  "result": {
    "engine": "knitr",
    "markdown": "# 重要コンセプト {#sec-Model}\n\n## データ\n\n本ノートにおいてデータ分析法は、「事例から学ぶ方法」として位置付けます。\n事例とは、過去の経験や出来事、歴史などであり、その蓄積をデータと呼びます。\n例えば以下は、2021年と2022年の第二四半期の東京23区における中古マンション取引事例^[国土交通省のレポジトリ (https://www.reinfolib.mlit.go.jp/) からダウンロードできます。]をデータ化しています。\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"igsrsfqanw\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#igsrsfqanw table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#igsrsfqanw thead, #igsrsfqanw tbody, #igsrsfqanw tfoot, #igsrsfqanw tr, #igsrsfqanw td, #igsrsfqanw th {\n  border-style: none;\n}\n\n#igsrsfqanw p {\n  margin: 0;\n  padding: 0;\n}\n\n#igsrsfqanw .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#igsrsfqanw .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#igsrsfqanw .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#igsrsfqanw .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#igsrsfqanw .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#igsrsfqanw .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#igsrsfqanw .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#igsrsfqanw .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#igsrsfqanw .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#igsrsfqanw .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#igsrsfqanw .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#igsrsfqanw .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#igsrsfqanw .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#igsrsfqanw .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#igsrsfqanw .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#igsrsfqanw .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#igsrsfqanw .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#igsrsfqanw .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#igsrsfqanw .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#igsrsfqanw .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#igsrsfqanw .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#igsrsfqanw .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#igsrsfqanw .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#igsrsfqanw .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#igsrsfqanw .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#igsrsfqanw .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#igsrsfqanw .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#igsrsfqanw .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#igsrsfqanw .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#igsrsfqanw .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#igsrsfqanw .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#igsrsfqanw .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#igsrsfqanw .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#igsrsfqanw .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#igsrsfqanw .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#igsrsfqanw .gt_left {\n  text-align: left;\n}\n\n#igsrsfqanw .gt_center {\n  text-align: center;\n}\n\n#igsrsfqanw .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#igsrsfqanw .gt_font_normal {\n  font-weight: normal;\n}\n\n#igsrsfqanw .gt_font_bold {\n  font-weight: bold;\n}\n\n#igsrsfqanw .gt_font_italic {\n  font-style: italic;\n}\n\n#igsrsfqanw .gt_super {\n  font-size: 65%;\n}\n\n#igsrsfqanw .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#igsrsfqanw .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#igsrsfqanw .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#igsrsfqanw .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#igsrsfqanw .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#igsrsfqanw .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#igsrsfqanw .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#igsrsfqanw .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#igsrsfqanw div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Price\">Price</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Size\">Size</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"TradeYear\">TradeYear</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"LargeDistrict\">LargeDistrict</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">11</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">15</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2022</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">32</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">30</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2022</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">85</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">45</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2022</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">130</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">80</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2022</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">58</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">55</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2021</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">51</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">55</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2021</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">11</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">20</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2021</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">140</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">95</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2021</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">48</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">35</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2021</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">49</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">40</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2021</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n以上のような取引事例が 6378 個収録されています。\nこのようなデータを用いて、以下のような意思決定問題に役立つ情報提供のあり方を、ラフに論じます。\n\n- 直面する意思決定問題1: ある物件の買取価格の決定\n\n    - 必要な情報: その物件の市場価格\n\n- 直面する意思決定問題2: 営業や支店網構築の重点地域決定\n\n    - 必要な情報: どのような地域で取引価格が伸びているのか把握\n\n## 観察できない変数\n\nデータから観察できない(研究者が知覚出来ない)変数の存在は、あらゆる事例分析の最も深刻な問題の一つです。\nこのような変数への対処について、膨大な議論が蓄積されています。\n\n観察できない変数がもたらす問題は、個別事例分析において、顕著に顕在化します。\n今、取引価格 $=Y$ と物件の特徴 $=X$ の関係性を把握するために、個別事例を丹念に見ていきます。\n例えば、以下の5800万円で取引されている物件が、データの中に含まれていました。\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"hzqkbhnext\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#hzqkbhnext table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#hzqkbhnext thead, #hzqkbhnext tbody, #hzqkbhnext tfoot, #hzqkbhnext tr, #hzqkbhnext td, #hzqkbhnext th {\n  border-style: none;\n}\n\n#hzqkbhnext p {\n  margin: 0;\n  padding: 0;\n}\n\n#hzqkbhnext .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#hzqkbhnext .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#hzqkbhnext .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#hzqkbhnext .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#hzqkbhnext .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hzqkbhnext .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hzqkbhnext .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hzqkbhnext .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#hzqkbhnext .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#hzqkbhnext .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#hzqkbhnext .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#hzqkbhnext .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#hzqkbhnext .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#hzqkbhnext .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#hzqkbhnext .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hzqkbhnext .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#hzqkbhnext .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#hzqkbhnext .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#hzqkbhnext .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hzqkbhnext .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#hzqkbhnext .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#hzqkbhnext .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#hzqkbhnext .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hzqkbhnext .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#hzqkbhnext .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#hzqkbhnext .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hzqkbhnext .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hzqkbhnext .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#hzqkbhnext .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hzqkbhnext .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#hzqkbhnext .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hzqkbhnext .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hzqkbhnext .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hzqkbhnext .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hzqkbhnext .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hzqkbhnext .gt_left {\n  text-align: left;\n}\n\n#hzqkbhnext .gt_center {\n  text-align: center;\n}\n\n#hzqkbhnext .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#hzqkbhnext .gt_font_normal {\n  font-weight: normal;\n}\n\n#hzqkbhnext .gt_font_bold {\n  font-weight: bold;\n}\n\n#hzqkbhnext .gt_font_italic {\n  font-style: italic;\n}\n\n#hzqkbhnext .gt_super {\n  font-size: 65%;\n}\n\n#hzqkbhnext .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#hzqkbhnext .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#hzqkbhnext .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#hzqkbhnext .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#hzqkbhnext .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#hzqkbhnext .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#hzqkbhnext .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#hzqkbhnext .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#hzqkbhnext div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Price\">Price</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Size\">Size</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"TradeYear\">TradeYear</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"LargeDistrict\">LargeDistrict</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">200</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">105</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2022</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nこの事例から、部屋の広さが105平米で中心6区(港、中央、千代田、新宿、渋谷、文教)に立地する物件は、2億円で取引される傾向があったと結論づけても良いでしょうか？\nほとんどの応用でこのような推測は、不適切です。\n実際に同じデータの中に、取引価格以外全く同じ特徴を持つ物件の取引事例が、以下の3件ありました。\nこれらの事例と比較すると、2億円はかなり低い価格での取引だったことがわかります。\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"yuproutzsj\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#yuproutzsj table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#yuproutzsj thead, #yuproutzsj tbody, #yuproutzsj tfoot, #yuproutzsj tr, #yuproutzsj td, #yuproutzsj th {\n  border-style: none;\n}\n\n#yuproutzsj p {\n  margin: 0;\n  padding: 0;\n}\n\n#yuproutzsj .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#yuproutzsj .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#yuproutzsj .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#yuproutzsj .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#yuproutzsj .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#yuproutzsj .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yuproutzsj .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#yuproutzsj .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#yuproutzsj .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#yuproutzsj .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#yuproutzsj .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#yuproutzsj .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#yuproutzsj .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#yuproutzsj .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#yuproutzsj .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#yuproutzsj .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#yuproutzsj .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#yuproutzsj .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#yuproutzsj .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yuproutzsj .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#yuproutzsj .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#yuproutzsj .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#yuproutzsj .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yuproutzsj .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#yuproutzsj .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#yuproutzsj .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yuproutzsj .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yuproutzsj .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#yuproutzsj .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yuproutzsj .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#yuproutzsj .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yuproutzsj .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#yuproutzsj .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yuproutzsj .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#yuproutzsj .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yuproutzsj .gt_left {\n  text-align: left;\n}\n\n#yuproutzsj .gt_center {\n  text-align: center;\n}\n\n#yuproutzsj .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#yuproutzsj .gt_font_normal {\n  font-weight: normal;\n}\n\n#yuproutzsj .gt_font_bold {\n  font-weight: bold;\n}\n\n#yuproutzsj .gt_font_italic {\n  font-style: italic;\n}\n\n#yuproutzsj .gt_super {\n  font-size: 65%;\n}\n\n#yuproutzsj .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#yuproutzsj .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#yuproutzsj .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#yuproutzsj .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#yuproutzsj .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#yuproutzsj .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#yuproutzsj .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#yuproutzsj .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#yuproutzsj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Price\">Price</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Size\">Size</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"TradeYear\">TradeYear</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"LargeDistrict\">LargeDistrict</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">200</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">105</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2022</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">150</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">105</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2022</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">92</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">105</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2022</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n    <tr><td headers=\"Price\" class=\"gt_row gt_right\">110</td>\n<td headers=\"Size\" class=\"gt_row gt_right\">105</td>\n<td headers=\"TradeYear\" class=\"gt_row gt_right\">2022</td>\n<td headers=\"LargeDistrict\" class=\"gt_row gt_left\">中心6区</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\nなぜこのような取引価格のブレが生じるのでしょうか？\nデータのご入力など潜在的な理由は多岐に渡りますが、有力なのは、このデータに**含まれない重要な情報** が存在することです。\n例えば、最寄駅や公園の近くにあるか否かなどのより詳細な立地情報が考えられます。\nあるいは売り手や買い手の\"交渉力\"を反映している可能性もあります。\nこのような多様な要因が、取引価格に影響を与え、結果として事例の下振れ/上振れが生じます。\n\n観察できない変数は不動産のみならず、労働者や家計、企業、あるいは国レベルの分析でも同様の問題を引き起こします。\n観察できる変数 $X$ が一致した事例であったとしても、観察できない変数は事例間で大きく偏っている可能性が高く、結果 $Y$ の値に大きな差が生まれます。\n \n## 要約\n\n先の個別事例分析では、観察できない変数 $X$ の偏りを確認する方法として、同じ$X$を持つ事例と比較しました。\nこのようなアプローチの発展として、同じ$X$を持つ事例集団における $Y$ の代表的な値を算出する方法があります。\n最もよく用いられる代表値は、平均値です。\n\n以下では、価格 (Price) と広さ (Size)、立地 (中心6区/その他)、取引年 (2021/2022)について、データに含まれる事例の分布をHeat mapで図示しています。\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](model_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n上記の散布図は、社会分析に用いるデータの持つ典型的な特徴を表しています。\n極めて乱雑であり、同じ$X$ でも $Y$ が異なる事例が多くなっています。\nこれは、観察できない変数の偏りが深刻である可能性を示唆しています。\n\n以下の図は、各$X$の組み合わせごとに計算された平均値を図示しています。\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](model_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n同図からは、$Y$ と $X$ のデータ上の関係性について、いくつか示唆を与えてます。\n部屋が広くなると取引価格は高くなる傾向があり、この傾向は中心6区で特に顕著となります。\nしかしながら同時に、平均値を算出するために使用される事例数が、特に100平米を超える物件について少なくなっていることにも注意が必要です。\n仮に平均値を計算するとしても、事例数が少ないと、各事例の観察できない変数の偏りの影響を強く受ける可能性があります。\n\n## 観察できない事例\n\n少数事例の集計が引き起こす問題を理解するために、頻度論と呼ばれる枠組みを導入します。\n具体的なイメージを持つために、「自分と同じ課題に取り組む、他の研究者達」を想像してください。\nこの研究者は、あなたと同じ社会を対象に同じ手法を用いて分析しています。\nただしデータは、独立して収集しているとします。\nこのような研究者達は、あなたと同じ分析結果に到達するでしょうか？\n\n一般に独立した研究者は、同じ結論に到達しえません。\nなぜならば、分析に用いる事例が異なるためです。\nほとんどの応用で、独立して収集したデータが、完全に一致する可能性は無視できるほど小さくなるでしょう。\nすなわちある研究者が観察した事例を、別の研究者は観察できない可能性が高いのです。\n\n分析結果の不一致の典型例としては、報道機関による世論調査が挙げられます。\n複数の調査結果が、毎月公開されていますが、その結果は各社で異なっています。\n理由は複数考えられますが、最も単純なものは、調査対象となる回答者が異なるためです。\n典型的な世論調査では、各社が独立して電話番号をランダムに発生させるなどの方法で、1000-2000名ほどの回答者を極力ランダムに選んでいます。\nこのため、異なる調査に同じ人が回答する確率は低くなります。\nさらに回答者全員が全く同じになる確率は、無視できるほど小さいものになります。\n\n観察できない事例の存在は、観察できない変数の偏りをもたらします。\nある研究者には、偶然、公園に近い物件の取引事例ばかり集まってくるかもしれません。\nこのような研究者のデータで計算された取引価格の平均値は、他の研究者と比べて、上振れる可能性が高いです。\nすなわち要約した値であったとしても、研究者間で同じ値に合意できなくなります。\n\n## 母分布とサンプリング\n\n観察できない事例の問題と、それに伴う分析結果の不一致の問題を整理するために、母分布という分析概念を導入します。\n「私たちが手にしているデータは、母集団という無数の事例の集団から、選ばれた事例から構成されている」と **想定** します。\nさらに本ノートでは、事例は完全ランダムに選ばれていると仮定します。\nこのような仮定をランダムサンプリングと呼びます。\n\n母集団とサンプリングの例として、労働力調査が挙げられます。\n労働力調査は毎月総務省により実施されている世帯を対象とした調査です。\n回答対象となる世帯は、日本の世帯全体からランダムに選ばれています。\nこのため労働力調査の母集団は、日本の世帯全体と見做せます。\n\n母集団として、仮想的な集団を想定することもできます。\n例えば、あるコンビニのレジデータに、ある日の全ての来客者について、購入金額が全て記録されているとします。\nこの場合、現実の来客者全てが記録されているため、母集団は存在しないと考えることも可能です。\n一方で、その日にコンビニを訪れた顧客は、潜在的な顧客の一部であると想定することもできます。\n皆さんも、よく利用するコンビニであったとしても、毎日利用しないのではないでしょうか？\nこの場合の母集団は、潜在的な顧客となります。\n\n母集団を想定すると、母集団における変数の分布も定義できます。\n例えば、「取引物件の母集団において、中心6区に立地する物件の割合は2割」、といった感じです。\nまた母分布を定義できれば、そこから母集団における平均値(母平均)も定義できます。\n例えば、「中心6区に立地する50平米の中古マンションの2022年における平均取引価格は5000万円」、といった感じです。\n\n厳重に注意が必要なのは、「我々には母分布や母平均を正確に知ることは不可能である」ことがデータ分析法の前提である点です。\n知ることができない母分布や母平均を、手元にある限られたデータから、以下に推測するのかが、データ分析の中心的な挑戦となります。\nデータが母集団の一部であり、観察できていない事例が存在する以上、データ上の平均値と母平均は一致しません。\nまたデータはランダムに選ばれているので、独立した研究者間で、平均値について厳密な合意はできません。\n\n### 数値例\n\n以上の概念を明確にするために、簡単な数値実験を行います。\n今、4名の研究者が独立して20事例を集めたとします。\n各事例について、取引価格 $Y$ と 立地する区 $X\\in\\{板橋,文京,中央\\}$ がデータから観察できるとします\n\n母分布は以下のように設定しています。\n\n- 取引物件は、板橋,文京,中央区に、同じ割合で立地\n\n- 板橋区と文京区において、取引価格は7から13の範囲に同じ割合で分布\n\n- 中央区において、取引価格は8から14の範囲に同じ割合で分布\n\nこのため母平均は、板橋区と文京区については10、中央区においては11となります。\n\n以下の図は、4名の研究者が手にするデータと平均値を図示しています。\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](model_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n平均値について、研究者間で大きな違いが見られます。\n例えば研究者1-3について、板橋区の平均取引価格は文京区よりも低いのに対して、研究者４は高くなっています。\nこれは研究者1-3は板橋区の物件について、観察できない変数が不利な事例が多く集まったのに対して、研究４については有利な物件が多かったと解釈できます。\nまた板橋区の平均取引価格は、他の区と比べて、より研究者間でのばらつきが大きくなっています。\nこれは事例数が少ない傾向にあるため、観察できない変数のばらつきが、平均値により強く影響を与えているためです。\n\nこの図に母平均を上書きすると以下のようになります。\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](model_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n重要な点として以下を確認してください。\n\n- 母平均は全員共通だが、データ上の平均値は異なる\n\n- 母平均とデータ上の平均は乖離している\n\n- 事例数が少ない板橋区において、特に乖離幅が大きい傾向にある\n\n## モデル化\n\n### サブグループ平均\n\nこのような事例数の少なさに対応する方法として、**分析者**が事例をいくつかのサブグループへ**事前**に分類し、サブグループごとに平均値を計算する方法があります。\n具体的には以下の分析工程を実行します。\n\n1. **分析者**が、サブグループ (モデル) を定義する\n\n- 例: 中心6区かどうか $\\times$ 部屋の広さが75以下か否か\n\n2. サブグループの平均値を計算\n\nこのように推定された要約モデルは、以下のように図示できる。\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](model_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](model_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\n### Data-adaptive なサブグループ平均\n\n- 決定木アルゴリズム: **データ**に最も適合するように、サブグループを定義する\n\n    - 明確な基準(\"データへの適合\")のもとで、要約方法を決定\n\n- 例. 最大４グループに分けることは前提に、平均二乗誤差 $$(Y - モデルの予測値)^2のデータ上での平均値$$ を可能な限り削減するようにグループ分けを行う\n\n    - 近似的に削減する (Greedy-algorithm)\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](model_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](model_files/figure-html/unnamed-chunk-10-2.png){width=672}\n:::\n:::\n\n\n### よりData-adaptiveな決定木\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](model_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](model_files/figure-html/unnamed-chunk-11-2.png){width=672}\n:::\n:::\n",
    "supporting": [
      "model_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}